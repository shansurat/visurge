<div id="wrapper" class="d-flex flex-column">
  <div id="main-container" class="p-4 flex-fill">
    <div class="container-lg">
      <div class="row g-3">
        <!-- Eligibility -->
        <div class="col-12 col-md-6 col-xl-3">
          <div class="card">
            <div class="card-header text-uppercase">
              <div class="d-flex justify-content-between align-items-center">
                <small class="text-muted text-truncate"
                  >Eligible for Viral Load
                </small>

                <div mdbDropdown>
                  <a
                    mdbDropdownToggle
                    class="text-success"
                    role="button"
                    (click)="genLinelist($event, 'eligible')"
                    ><i class="fas fa-info-circle"></i
                  ></a>
                  <ul
                    mdbDropdownMenu
                    class="dropdown-menu"
                    aria-labelledby="dropdownMenuLink"
                  >
                    <li><a class="dropdown-item">Generate Linelist</a></li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="card-body d-flex flex-column g-3">
              <div class="d-flex align-items-center mb-3">
                <button
                  type="button"
                  class="btn btn-success btn-lg btn-floating"
                >
                  <i class="fas fa-check"></i>
                </button>
                <div class="flex-fill"></div>
                <div
                  class="
                    h-100
                    text-end
                    d-flex
                    flex-column
                    justify-content-between
                  "
                >
                  <h1 class="mb-0">
                    {{ (entriesServ.eligible$ | async)?.length || 0 }}
                  </h1>
                </div>
              </div>
              <div class="progress rounded show_box_progress">
                <div
                  class="progress-bar bg-success"
                  role="progressbar"
                  [ngStyle]="{
                    width:
                      (((entriesServ.eligible$ | async)?.length || 0) /
                        ((entriesServ.all$ | async)?.length || 1)) *
                        100 +
                      '%'
                  }"
                  aria-valuenow="25"
                  aria-valuemin="0"
                  aria-valuemax="100"
                >
                  {{
                    r(
                      (((entriesServ.eligible$ | async)?.length || 0) /
                        ((entriesServ.all$ | async)?.length || 1)) *
                        100
                    )
                  }}%
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Pregnancy/BreastFeeding Total -->
        <div class="col-12 col-md-6 col-xl-3">
          <div class="card">
            <div class="card-header text-uppercase">
              <div class="d-flex justify-content-between align-items-center">
                <small class="text-muted text-truncate"
                  >Pregnant/BreastFeeding
                </small>
                <div mdbDropdown>
                  <a
                    mdbDropdownToggle
                    class="text-info"
                    role="button"
                    (click)="genLinelist($event, 'pregnant')"
                    ><i class="fas fa-info-circle"></i
                  ></a>
                  <ul
                    mdbDropdownMenu
                    class="dropdown-menu"
                    aria-labelledby="dropdownMenuLink"
                  >
                    <li><a class="dropdown-item">Generate Linelist</a></li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="card-body d-flex flex-column g-3">
              <div class="d-flex align-items-center mb-3">
                <button type="button" class="btn btn-info btn-lg btn-floating">
                  <i class="fas fa-baby"></i>
                </button>
                <div class="flex-fill"></div>
                <div
                  class="
                    h-100
                    text-end
                    d-flex
                    flex-column
                    justify-content-between
                  "
                >
                  <h1 class="mb-0">
                    {{ (entriesServ.pregnant$ | async)?.length }}
                  </h1>
                </div>
              </div>
              <div class="progress rounded show_box_progress">
                <div
                  class="progress-bar bg-info"
                  role="progressbar"
                  [ngStyle]="{
                    width:
                      (((entriesServ.pregnant$ | async)?.length || 0) /
                        ((entriesServ.all$ | async)?.length || 1)) *
                        100 +
                      '%'
                  }"
                  aria-valuenow="25"
                  aria-valuemin="0"
                  aria-valuemax="100"
                >
                  {{
                    r(
                      (((entriesServ.pregnant$ | async)?.length || 0) /
                        ((entriesServ.all$ | async)?.length || 1)) *
                        100
                    )
                  }}%
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- HVL With EAC-3 Completed -->
        <div class="col-12 col-md-6 col-xl-3">
          <div class="card">
            <div class="card-header text-uppercase">
              <div class="d-flex justify-content-between align-items-center">
                <small class="text-muted text-truncate"
                  >HVL W/ EAC-3 Completed
                </small>
                <div mdbDropdown>
                  <a
                    mdbDropdownToggle
                    class="text-danger"
                    role="button"
                    (click)="genLinelist($event, 'hvl-with-eac3')"
                    ><i class="fas fa-info-circle"></i
                  ></a>
                  <ul
                    mdbDropdownMenu
                    class="dropdown-menu"
                    aria-labelledby="dropdownMenuLink"
                  >
                    <li><a class="dropdown-item">Generate Linelist</a></li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="card-body d-flex flex-column g-3">
              <div class="d-flex align-items-center mb-3">
                <button
                  type="button"
                  class="btn btn-danger btn-lg btn-floating"
                >
                  <i class="fas fa-exclamation-triangle"></i>
                </button>
                <div class="flex-fill"></div>
                <div
                  class="
                    h-100
                    text-end
                    d-flex
                    flex-column
                    justify-content-between
                  "
                >
                  <h1 class="mb-0">
                    {{ (entriesServ.hvl_eac3_completed$ | async)?.length }}
                  </h1>
                </div>
              </div>
              <div class="progress rounded show_box_progress">
                <div
                  [ngStyle]="{
                    width:
                      (((entriesServ.hvl_eac3_completed$ | async)?.length ||
                        0) /
                        ((entriesServ.all$ | async)?.length || 1)) *
                        100 +
                      '%'
                  }"
                  class="progress-bar bg-danger"
                  role="progressbar"
                  aria-valuemin="0"
                  aria-valuemax="100"
                >
                  {{
                    r(
                      (((entriesServ.hvl_eac3_completed$ | async)?.length ||
                        0) /
                        ((entriesServ.all$ | async)?.length || 1)) *
                        100
                    )
                  }}%
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Pending Results -->
        <div class="col-12 col-md-6 col-xl-3">
          <div class="card">
            <div class="card-header text-uppercase">
              <div class="d-flex justify-content-between align-items-center">
                <small class="text-muted text-truncate">Pending Results </small>
                <div mdbDropdown>
                  <a
                    mdbDropdownToggle
                    class="text-warning"
                    role="button"
                    (click)="genLinelist($event, 'pending')"
                    ><i class="fas fa-info-circle"></i
                  ></a>
                  <ul
                    mdbDropdownMenu
                    class="dropdown-menu"
                    aria-labelledby="dropdownMenuLink"
                  >
                    <li><a class="dropdown-item">Generate Linelist</a></li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="card-body d-flex flex-column g-3">
              <div class="d-flex align-items-center mb-3">
                <button
                  type="button"
                  class="btn btn-warning btn-lg btn-floating"
                >
                  <i class="fas fa-clock"></i>
                </button>
                <div class="flex-fill"></div>
                <div
                  class="
                    h-100
                    text-end
                    d-flex
                    flex-column
                    justify-content-between
                  "
                >
                  <h1 class="mb-0">
                    {{ (entriesServ.pending$ | async)?.length }}
                  </h1>
                </div>
              </div>
              <div class="progress rounded show_box_progress">
                <div
                  [ngStyle]="{
                    width:
                      (((entriesServ.pending$ | async)?.length || 0) /
                        ((entriesServ.all$ | async)?.length || 1)) *
                        100 +
                      '%'
                  }"
                  class="progress-bar bg-warning"
                  role="progressbar"
                  aria-valuemin="0"
                  aria-valuemax="100"
                >
                  {{
                    r(
                      (((entriesServ.pending$ | async)?.length || 0) /
                        ((entriesServ.all$ | async)?.length || 1)) *
                        100
                    )
                  }}%
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-12 col-md-6">
          <eligible-by-time></eligible-by-time>
        </div>
        <div class="col-12 col-md-6">
          <cvs-by-iit></cvs-by-iit>
        </div>
        <div class="col-12 col-md-6">
          <eligible-by-time-expected></eligible-by-time-expected>
        </div>
        <div class="col-12 col-md-6">
          <eligible-by-age></eligible-by-age>
        </div>
        <div class="col-12 col-md-6">
          <eligible-by-sex></eligible-by-sex>
        </div>
        <div class="col-12 col-md-6">
          <eligible-by-pmtct></eligible-by-pmtct>
        </div>
      </div>
    </div>
  </div>
</div>
