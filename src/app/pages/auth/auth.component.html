<div id="wrapper">
  <div class="container-fluid h-100">
    <div class="row h-100">
      <div class="m-0 p-0 d-none col-sm-7 d-sm-block">
        <div
          class="w-100 h-100"
          style="
            background-image: url(../../../assets/medical-cover.jpg);
            background-size: cover;
          "
        ></div>
        <div class="mask mask-custom"></div>
      </div>

      <div
        class="
          form-container
          container
          d-flex
          flex-column
          p-5
          m-auto
          col-12 col-sm-5
          h-100
          justify-content-center
          bg-light
        "
        [formGroup]="signInFormGroup"
      >
        <app-logo></app-logo>
        <mdb-form-control class="mb-3">
          <input
            autocomplete="off"
            mdbInput
            type="text"
            id="username"
            class="form-control"
            formControlName="username"
          />
          <label mdbLabel class="form-label" for="username">Username</label>
        </mdb-form-control>

        <div
          class="note note-danger mb-3"
          *ngIf="
            signInFormGroup.get('username')?.invalid &&
            signInFormGroup.get('username')?.dirty
          "
        >
          <ng-container
            *ngIf="signInFormGroup.get('username')?.hasError('required')"
          >
            Username is <b>required</b>.
          </ng-container>

          <ng-container
            *ngIf="signInFormGroup.get('username')?.hasError('notUsername')"
          >
            Username should only be alphanumeric (no special characters
            allowed).
          </ng-container>

          <ng-container
            *ngIf="
              signInFormGroup.get('username')?.hasError('accountDoesNotExist')
            "
          >
            An account with the username
            <b> {{ signInFormGroup.get("username")?.value }}</b> does not exist.
          </ng-container>

          <ng-container
            *ngIf="
              signInFormGroup.get('username')?.hasError('accountDisabled') &&
              !signInFormGroup.get('username')?.hasError('accountDoesNotExist')
            "
          >
            An account with the username
            <b> {{ signInFormGroup.get("username")?.value }}</b> is disabled by
            the administrator.
          </ng-container>
        </div>
        <mdb-form-control class="mb-3">
          <input
            autocomplete="off"
            mdbInput
            type="password"
            id="password"
            class="form-control"
            formControlName="password"
          />
          <label mdbLabel class="form-label" for="password">Password</label>
        </mdb-form-control>

        <button
          type="button"
          class="btn btn-primary mb-3"
          (click)="signIn()"
          mdbRipple
        >
          Sign In
        </button>
        <button type="button" class="btn btn-outline-primary">
          Forgot Password
        </button>
      </div>
    </div>

    <div
      id="device-recognition"
      class="my-3 mx-5"
      [ngClass]="{
        'text-success': isDeviceRecognized | async,
        'text-danger': !(isDeviceRecognized | async)
      }"
    >
      <i class="fas fa-circle me-3"></i><span>Device Recognized</span>
    </div>
  </div>
</div>
